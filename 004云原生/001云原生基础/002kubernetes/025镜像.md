1.修改decker的镜像源![image-20240914090202176](./assets/image-20240914090202176.png)

![image-20240914090417792](./assets/image-20240914090417792.png)

```json
{
    "registry-mirrors": [
        "https://do.nark.eu.org",
        "https://dc.j8.work",
        "https://docker.m.daocloud.io",
        "https://dockerproxy.com",
        "https://docker.mirrors.ustc.edu.cn",
        "https://docker.nju.edu.cn"
    ]
}
```

2.加载启动docker服务![image-20240914090711928](./assets/image-20240914090711928.png)

3.拉取常用的镜像![image-20240914090811080](./assets/image-20240914090811080.png)

4.使用docker save指令打包镜像![image-20240914092452075](./assets/image-20240914092452075.png)

5.使用ctr指令将tar包导入到containerd的镜像中![image-20240914092821144](./assets/image-20240914092821144.png)

![image-20240914092908642](./assets/image-20240914092908642.png)

```shell
[root@k8s-master ~]# ctr -n k8s.io images import centos.tar --platform=linux/amd64

[root@k8s-master ~]# ctr -n k8s.io images import mysql.tar --platform=linux/amd64

[root@k8s-master ~]# ctr -n k8s.io images import haproxy.tar --platform=linux/amd64

[root@k8s-master ~]# ctr -n k8s.io images import nginx.tar --platform=linux/amd64
```

6.查看containerd镜像列表![image-20240914093205390](./assets/image-20240914093205390.png)

7.在node01和node02节点上引入tar包![image-20240914100313522](./assets/image-20240914100313522.png)

![image-20240914100648039](./assets/image-20240914100648039.png)

8.使用kubectl run 创建pod![image-20240914101041142](./assets/image-20240914101041142.png)

![image-20240914101432670](./assets/image-20240914101432670.png)

9.使用配置文件创建pod

![image-20240914102237056](./assets/image-20240914102237056.png)

![image-20240914102204385](./assets/image-20240914102204385.png)

![image-20240914102420319](./assets/image-20240914102420319.png)

![image-20240914102557389](./assets/image-20240914102557389.png)

![image-20240914102619093](./assets/image-20240914102619093.png)

![image-20240914102733027](./assets/image-20240914102733027.png)

